<!DOCTYPE html><html lang="en"><head><style>*{box-sizing:border-box;margin:0;padding:0;font-family:Arial,sans-serif}body,html{height:100%;text-align:center;overflow:hidden}.menu-wrapper{display:inline-block;width:80vw;height:80vh;border-radius:10px;border:2px solid #444;background-color:#2a2a2a;position:absolute;left:10vw;top:10vh}.menu-title{background-color:#222;color:#fff;padding:15px;font-size:24px;font-weight:700;border-bottom:2px solid #444}.close-button{position:absolute;top:10px;right:10px;background-color:rgba(0,0,0,.3);width:40px;height:40px;font-size:30px;color:#fff;display:flex;align-items:center;justify-content:center;border-radius:3px}.close-button:hover{background-color:rgba(0,0,0,.7)}.fps-display{position:fixed;top:10px;left:10px;background-color:#000;color:#fff;padding:5px 10px;border-radius:5px;font-size:14px;z-index:1000}</style><style>.squad-menu{width:100%;height:calc(100% - 60px);font-size:0}.panel{display:inline-block;vertical-align:top;height:100%;overflow-y:auto;padding:20px;font-size:16px;background-color:#2a2a2a;color:#fff;overflow-anchor:none;scrollbar-color:#444 #2a2a2a;scrollbar-width:thin}.panel.left-panel{border-right:2px solid #444;width:65%}.panel.right-panel{border-left:2px solid #444;width:35%}.template{display:none}.create-squad-button-wrapper{margin-bottom:20px}.create-squad-button,.rename-modal-content button{border:0;border-radius:5px;font-weight:700;cursor:pointer}.create-squad-button{width:100%;background-color:#6cf;color:#000;padding:15px;font-size:16px;text-align:left;transition:background-color .3s ease}.create-squad-button:hover{background-color:#5ad}.squad{margin-bottom:20px}.squad h3{text-align:left;margin-bottom:10px;color:#6cf}.squad-members,.squad-points{font-size:18px;color:#ccc;margin-left:2em}.member,.unsquadded-player{background-color:#3a3a3a;padding:10px;margin:5px 0;border-radius:5px;text-align:left;display:inline-block;width:100%;line-height:24px;font-size:14px}.member span,.unsquadded-player span{vertical-align:middle}.squad-leader{font-weight:700;color:gold}.ft-button,.invite-button,.kick-button,.leave-button,.promote-button{border:0;color:#fff;padding:5px 10px;border-radius:4px;vertical-align:middle;margin-left:10px;float:right;cursor:pointer}#rename-squad-button,.ft-button,.invite-button,.promote-button{background-color:#6c6}#rename-squad-button:hover,.ft-button:hover,.invite-button:hover,.promote-button:hover{background-color:#5a5}.kick-button,.leave-button{background-color:#f66}#cancel-rename-button:hover,.kick-button:hover,.leave-button:hover{background-color:#a55}.edit-button{background:0 0;border:0;color:#6cf;float:right;padding:0;font-size:14px}.edit-button:hover{color:#5ad}.unsquadded-player::after{content:"";display:block;clear:both}.rename-modal{position:fixed;top:0;left:0;width:100%;height:100%;background-color:rgba(0,0,0,.7);display:none;justify-content:center;align-items:center;z-index:999}.rename-modal-content{background-color:#2a2a2a;padding:30px;border-radius:10px;text-align:center;max-width:400px;width:80%;border:2px solid #444}.rename-modal-content h4{font-size:20px;color:#fff;margin-bottom:20px}.rename-modal-content input{width:100%;padding:10px;border:1px solid #444;border-radius:5px;margin-bottom:20px;background-color:#1e1e1e;color:#fff}.rename-modal-content button{padding:10px 20px;margin:0 10px}#rename-squad-button{color:#000}#cancel-rename-button{background-color:#f66;color:#000}.hide{display:none}</style></head><body><div class="menu-wrapper"><div class="menu-title">Squad</div><div class="squad-menu"><div class="panel left-panel"><div class="create-squad-button-wrapper"><button class="create-squad-button">+ Create Squad</button></div><div class="squads"></div></div><div class="panel right-panel"></div><div class="rename-modal"><div class="rename-modal-content"><h4>Rename Squad</h4><input id="squad-name-input" placeholder="Enter new squad name"> <button id="rename-squad-button">Rename</button> <button id="cancel-rename-button">Cancel</button></div></div></div></div><script>function saveName(){document.querySelector(".rename-modal").style.display="none";const e=document.getElementById("squad-name-input").value.replace(/[^a-zA-Z0-9\s]/g,"").trim();e&&A3API.SendAlert(`["renamed", ["${e}"]]`)}function formatPoints(e){return e>=1e6?(e/1e6).toFixed(1)+"M pts":e>=1e3?(e/1e3).toFixed(1)+"K pts":`Points: ${e}`}function updateData(e,t){e=JSON.parse(e||"{}"),t=JSON.parse(t||"{}"),document.querySelector(".squad.template"),document.querySelector(".squads").innerHTML="";const n=[];let d=!1;t.forEach(t=>{const o=t[2];if(!o||0===o.length)return;const a=document.createElement("div");a.classList.add("squad");const s=document.createElement("h3");a.appendChild(s),document.querySelector(".squads").appendChild(a);const c=t[1]===e[0],u=o.some(t=>t[0]===e[0]);let r=0;o.forEach(o=>{const s=document.createElement("div");s.classList.add("member"),s.dataset.playerId=o[0],s.textContent=`${o[1]} (${formatPoints(o[2])})`,a.appendChild(s),r+=o[2],n.push(o[0]);const l=!0===o[3];if(o[0]===e[0]){d=!0;const e=document.createElement("button");e.textContent="Leave",e.classList.add("leave-button"),e.addEventListener("mousedown",function(){A3API.SendAlert('["leave"]')}),s.appendChild(e)}else if(c){const e=document.createElement("button");e.textContent="Kick",e.classList.add("kick-button"),e.addEventListener("mousedown",function(){A3API.SendAlert(`["kick", ["${o[0]}"]]`)}),s.appendChild(e);const t=document.createElement("button");if(t.textContent="Promote",t.classList.add("promote-button"),t.addEventListener("mousedown",function(){A3API.SendAlert(`["promote", ["${o[0]}"]]`)}),s.appendChild(t),l){const e=document.createElement("button");e.textContent="Fast Travel",e.classList.add("ft-button"),e.addEventListener("mousedown",function(){A3API.SendAlert(`["ftSquad", ["${o[0]}"]]`)}),s.appendChild(e)}}if(t[1]===o[0]){if(s.classList.add("squad-leader"),e[0]!==o[0]&&u&&l){const e=document.createElement("button");e.textContent="Fast Travel",e.classList.add("ft-button"),e.addEventListener("mousedown",function(){A3API.SendAlert('["ftSquadLeader", []]')}),s.appendChild(e)}}else s.classList.remove("squad-leader")}),s.textContent=`${t[0]} `;const l=document.createElement("span");l.classList.add("squad-members"),l.textContent=`Members: ${o.length}`,s.appendChild(l);const i=document.createElement("span");if(i.classList.add("squad-points"),i.textContent=`${formatPoints(r)}`,s.appendChild(i),c){const e=document.createElement("button");e.textContent="Edit Squad Name",e.classList.add("edit-button"),e.addEventListener("mousedown",function(){document.querySelector(".rename-modal").style.display="flex",setTimeout(()=>{const e=document.getElementById("squad-name-input");e.focus(),e.addEventListener("keydown",function t(n){"Enter"===n.key&&(n.preventDefault(),saveName(),e.removeEventListener("keydown",t))})},50)}),s.appendChild(e)}}),d?document.querySelector(".create-squad-button-wrapper").classList.add("hide"):document.querySelector(".create-squad-button-wrapper").classList.remove("hide");const o=e[1].filter(t=>!n.includes(t[0])&&t[0]!==e[0]),a=document.querySelector(".right-panel");a.innerHTML="",o.forEach(e=>{const t=document.createElement("div");t.classList.add("unsquadded-player"),t.dataset.playerId=e[0],a.appendChild(t);const n=e[1]||"",o=document.createElement("span");if(o.textContent=`${n} (${formatPoints(e[2])})`,t.appendChild(o),d){const n=document.createElement("button");n.textContent="Invite",n.classList.add("invite-button"),n.addEventListener("mousedown",function(){A3API.SendAlert(`["invite", ["${e[0]}"]]`)}),t.appendChild(n)}})}document.querySelector(".create-squad-button").addEventListener("mousedown",function(){A3API.SendAlert('["create"]'),document.querySelector(".create-squad-button-wrapper").classList.add("hide")}),document.getElementById("cancel-rename-button").addEventListener("mousedown",()=>{document.querySelector(".rename-modal").style.display="none"}),document.getElementById("rename-squad-button").addEventListener("mousedown",()=>{saveName()})</script><script>document.addEventListener("wheel",function(e){const o=document.elementFromPoint(e.clientX,e.clientY);o&&o.closest(".panel")&&(o.closest(".panel").scrollTop+=e.deltaY,e.preventDefault())},{passive:!1});const wrapper=document.querySelector(".menu-wrapper"),header=document.querySelector(".menu-title"),closeButton=document.createElement("div");closeButton.className="close-button",closeButton.innerHTML="&times;",wrapper.appendChild(closeButton),closeButton.addEventListener("mousedown",function(){A3API.SendAlert("exit")});const pos={x1:0,y1:0,x2:0,y2:0},onMouseMove=e=>{e.preventDefault();const{clientX:o,clientY:t}=e;pos.x1=pos.x2-o,pos.y1=pos.y2-t,pos.x2=o,pos.y2=t,wrapper.style.top=wrapper.offsetTop-pos.y1+"px",wrapper.style.left=wrapper.offsetLeft-pos.x1+"px"},onMouseUp=()=>{document.removeEventListener("mouseup",onMouseUp),document.removeEventListener("mousemove",onMouseMove)},onMouseDown=e=>{e.preventDefault(),pos.x2=e.clientX,pos.y2=e.clientY,document.addEventListener("mouseup",onMouseUp),document.addEventListener("mousemove",onMouseMove)};header.addEventListener("mousedown",onMouseDown);const fpsDisplay=document.createElement("div");fpsDisplay.className="fps-display",document.body.appendChild(fpsDisplay);let frameTime=0,frameCount=0,lastLoop=performance.now();const fpsLoop=()=>{const e=performance.now();frameTime+=(e-lastLoop-frameTime)/20,lastLoop=e,frameCount++,requestAnimationFrame(fpsLoop)};setInterval(()=>{fpsDisplay.textContent=frameCount>60?`MENU FPS: ${(1e3/frameTime).toFixed(2)}`:"MENU FPS: -"},100),fpsLoop()</script><script>function atobr(t){const e=Uint8Array.from(atob(t),t=>t.charCodeAt(0));return new TextDecoder("utf-8").decode(e)}</script></body></html>