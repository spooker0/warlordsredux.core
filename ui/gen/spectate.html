<!DOCTYPE html><html lang="en"><head><style>*{box-sizing:border-box;margin:0;padding:0;font-family:Arial,sans-serif}body,html{height:100%;text-align:center;overflow:hidden}.menu-wrapper{display:inline-block;width:80vw;height:80vh;border-radius:10px;border:2px solid #444;background-color:#2a2a2a;position:absolute;left:10vw;top:10vh}.menu-title{background-color:#222;color:#fff;padding:15px;font-size:24px;font-weight:700;border-bottom:2px solid #444}.close-button{position:absolute;top:10px;right:10px;background-color:rgba(0,0,0,.3);width:40px;height:40px;font-size:30px;color:#fff;display:flex;align-items:center;justify-content:center;border-radius:3px}.close-button:hover{background-color:rgba(0,0,0,.7)}.fps-display{position:fixed;top:10px;left:10px;background-color:#000;color:#fff;padding:5px 10px;border-radius:5px;font-size:14px;z-index:1000}</style><style>*,.spectate-content,::after,::before{box-sizing:border-box}.spectate-content{width:100%;height:calc(100% - 60px);padding:16px;display:flex;flex-direction:column}.spectate-search{margin-bottom:12px;flex:0 0 auto}.spectate-search input{width:100%;padding:8px 10px;border-radius:8px;border:1px solid #555;background:#2f2f2f;color:#eee;outline:0}.spectate-search input::placeholder{color:#aaa}.spectate-search input:focus{border-color:#777}.spectate-scroll.panel{display:flex;flex-direction:column;gap:20px;flex:1 1 auto;min-height:0;overflow:auto;padding-right:6px;scrollbar-color:#444 #2a2a2a;scrollbar-width:thin}.list-section{display:flex;flex-direction:column;min-width:0}.list-title{font-weight:800;letter-spacing:.3px;color:#ddd;margin-bottom:8px;padding-left:2px}.data-list{display:grid;grid-template-columns:repeat(auto-fill,minmax(180px,1fr));gap:12px}.player-entry{background:#3a3a3a;color:#eee;border:1px solid #555;border-radius:10px;padding:12px 14px;font-size:14px;font-weight:700;letter-spacing:.2px;text-align:center;box-shadow:0 1px 0#000 inset,0 6px 14px rgba(0,0,0,.35);transition:transform .06s ease,background-color .08s ease,box-shadow .08s ease,border-color .08s ease}.player-entry:hover{background:#444;border-color:#666}</style></head><body><div class="menu-wrapper"><div class="menu-title">Spectate</div><div class="spectate-content"><div class="spectate-search"><input autocomplete="off" id="spectate-search" placeholder="Search by name..."/></div><div class="panel spectate-scroll"><section class="list-section"><div class="list-title">BLUFOR</div><div class="data-list" data-list-type="BLUFOR"></div></section><section class="list-section"><div class="list-title">OPFOR</div><div class="data-list" data-list-type="OPFOR"></div></section><section class="list-section"><div class="list-title">OTHER</div><div class="data-list" data-list-type="OTHER"></div></section><section class="list-section"><div class="list-title">MUNITION</div><div class="data-list" data-list-type="MUNITION"></div></section><section class="list-section"><div class="list-title">SECTOR</div><div class="data-list" data-list-type="SECTOR"></div></section></div></div></div><script>function updatePlayerList(e){const t=JSON.parse(e)||[],a=document.querySelector(".spectate-content");if(!a)return;const r=new Map;Array.from(a.querySelectorAll(".data-list")).forEach(e=>{const t=e.dataset.listType||e.dataset.type||e.getAttribute("data-list")||"OTHER";r.set(String(t),e)}),r.has("OTHER");const n={};for(const e of r.keys())n[e]=[];n.OTHER||(n.OTHER=[]);const c=new Set,s=new Map;t.forEach(e=>{const t=String(e[0]??"").trim(),o=e[1],i=String(e[2]),l=e.length>=4?String(e[3]).trim():"",d=(p=o,r.has(String(p))?String(p):"OTHER");var p;const y=r.get(d)||r.get("OTHER");if(!y)return;c.add(i),s.set(i,t),n[d].push({objectId:i,name:t,vehicle:l});const m=l?`${t}<br/>[${l}]`:t;let S=(e=>a.querySelector(`.player-entry[data-object-id="${CSS.escape(e)}"]`))(i);S?(y.contains(S)||y.appendChild(S),S.innerHTML!==m&&(S.innerHTML=m),S.dataset.name=t):(S=document.createElement("div"),S.className="player-entry",S.dataset.objectId=i,S.innerHTML=m,S.addEventListener("click",()=>{A3API.SendAlert(`${i}`)}),y.appendChild(S),S.dataset.name=t)}),a.querySelectorAll(".player-entry").forEach(e=>{c.has(e.dataset.objectId)||e.remove()});const o=new Intl.Collator(void 0,{sensitivity:"base",numeric:!0}),i=e=>e.sort((e,t)=>{const a=o.compare(e.name,t.name);return 0!==a?a:o.compare(e.objectId,t.objectId)}).map(e=>e.objectId),l=(e,t)=>{let a=e.firstChild;t.forEach(t=>{const r=e.querySelector(`.player-entry[data-object-id="${CSS.escape(t)}"]`);r&&(r!==a&&e.insertBefore(r,a),a=r.nextSibling)})};for(const[e,t]of r.entries())l(t,i(n[e]||[]));applyNameFilter()}const spectateSearch=document.getElementById("spectate-search"),applyNameFilter=()=>{const e=(spectateSearch?spectateSearch.value:"").trim().toLowerCase();document.querySelectorAll(".player-entry").forEach(t=>{const a=(t.dataset.name||"").toLowerCase(),r=!e||a.startsWith(e)||-1!==a.indexOf(e);t.style.display=r?"":"none"})};spectateSearch.addEventListener("input",e=>{applyNameFilter()})</script><script>document.addEventListener("wheel",function(e){const o=document.elementFromPoint(e.clientX,e.clientY);o&&o.closest(".panel")&&(o.closest(".panel").scrollTop+=e.deltaY,e.preventDefault())},{passive:!1});const wrapper=document.querySelector(".menu-wrapper"),header=document.querySelector(".menu-title"),closeButton=document.createElement("div");closeButton.className="close-button",closeButton.innerHTML="&times;",wrapper.appendChild(closeButton),closeButton.addEventListener("mousedown",function(){A3API.SendAlert("exit")});const pos={x1:0,y1:0,x2:0,y2:0},onMouseMove=e=>{e.preventDefault();const{clientX:o,clientY:t}=e;pos.x1=pos.x2-o,pos.y1=pos.y2-t,pos.x2=o,pos.y2=t,wrapper.style.top=wrapper.offsetTop-pos.y1+"px",wrapper.style.left=wrapper.offsetLeft-pos.x1+"px"},onMouseUp=()=>{document.removeEventListener("mouseup",onMouseUp),document.removeEventListener("mousemove",onMouseMove)},onMouseDown=e=>{e.preventDefault(),pos.x2=e.clientX,pos.y2=e.clientY,document.addEventListener("mouseup",onMouseUp),document.addEventListener("mousemove",onMouseMove)};header.addEventListener("mousedown",onMouseDown);const fpsDisplay=document.createElement("div");fpsDisplay.className="fps-display",document.body.appendChild(fpsDisplay);let frameTime=0,frameCount=0,lastLoop=performance.now();const fpsLoop=()=>{const e=performance.now();frameTime+=(e-lastLoop-frameTime)/20,lastLoop=e,frameCount++,requestAnimationFrame(fpsLoop)};setInterval(()=>{fpsDisplay.textContent=frameCount>60?`MENU FPS: ${(1e3/frameTime).toFixed(2)}`:"MENU FPS: -"},100),fpsLoop()</script><script>function atobr(t){const e=Uint8Array.from(atob(t),t=>t.charCodeAt(0));return new TextDecoder("utf-8").decode(e)}</script></body></html>